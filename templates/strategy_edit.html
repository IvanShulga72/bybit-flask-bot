{% extends 'base.html' %}

{% block title %}
<title>Edit</title>
{% endblock %}


{% block body %}
<div class="container d-flex flex-column align-items-center">
    <h2>Редактирование стратегии для {{ strategy.symbol }}</h2>

    <form method="POST" class="border border-1 border-primary rounded-2 p-3" action="/strategy_edit/{{ strategy.id }}"
          style="max-width: 30rem">
        <div class="container">
            <div class="form-group mt-2">
                <label class="fw-bold" for="symbol">Торговая пара:</label>
                <input type="text" class="form-control" id="symbol" name="symbol" value="{{ strategy.symbol }}"
                       required>
            </div>

            <div class="form-group mt-2">
                <label class="fw-bold" for="start_price">Начальная цена:</label>
                <input type="text" class="form-control" id="start_price" name="start_price"
                       value="{{ strategy.start_price }}" required>
            </div>

            <div class="form-group mt-2">
                <label class="fw-bold" for="total_invest">Объем инвестиций:</label>
                <input type="number" step="1" class="form-control" id="total_invest" name="total_invest"
                       value="{{ strategy.total_invest }}" required>
            </div>

            <div class="form-group mt-2">
                <label class="fw-bold" for="steps">Количество уровней (шагов):</label>
                <input type="number" class="form-control" id="steps" name="steps" value="{{ strategy.steps }}" required
                       min="1">
            </div>

            <div class="form-group mt-2">
                <label class="fw-bold" for="percent_down">Процент падения:</label>
                <input type="number" step="0.1" class="form-control" id="percent_down" name="percent_down"
                       value="{{ strategy.percent_down }}" required>
            </div>

            <div class="form-group mt-2">
                <label class="fw-bold" for="percent_up">Процент роста:</label>
                <input type="number" step="0.1" class="form-control" id="percent_up" name="percent_up"
                       value="{{ strategy.percent_up }}" required>
            </div>

            <div class="form-group mt-2">
                <label class="fw-bold" for="leverage">Кредитное плечо:</label>
                <input type="number" step="1" class="form-control" id="leverage" name="leverage"
                       value="{{ strategy.leverage }}" required min="1">
            </div>

            <div class="form-group mt-2">
                <label class="fw-bold" for="after_step_persent_more">Шаг усиления (после какого шага увеличивать
                    просадку):</label>
                <input type="number" step="1" class="form-control" id="after_step_persent_more"
                       name="after_step_persent_more" value="{{ strategy.after_step_persent_more }}" min="1" required>
            </div>

            <div class="form-group mt-2">
                <label class="fw-bold" for="persent_more_by">Увеличивать просадку на (%):</label>
                <input type="number" step="0.1" class="form-control" id="persent_more_by" name="persent_more_by"
                       value="{{ strategy.persent_more_by }}" min="0" required>
            </div>
            <button type="submit" class="btn btn-primary mt-3 me-2">Сохранить изменения</button>
            <a href="/all_strategies" class="d-inline-block mt-3 btn btn-secondary">Отмена</a>
        </div>
    </form>
</div>
{% endblock %}